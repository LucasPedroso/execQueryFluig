<div class="container-personalizado">
  <div class="page">
    <div id="painel" class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">Execução de Querys</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-md-12">
            <p><b style="color: red;">Atenção</b>, será executado querys diretamente no banco de dados, verifique sempre
              a query que será executada!</p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <label for="txt_query">Query</label>
            <textarea (keyup)="ajustaQuery()" [(ngModel)]="query" class="form-control"></textarea>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 colunaBotao">
            <button (click)="execQuery()" class="btn btn-success btn-exec">Executar</button>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <h2>Resultado:</h2>
          </div>
          <div class="col-md-12" style=" max-width: 100%;overflow: auto;">


            <table mat-table [dataSource]="dataSource">
              <ng-container *ngFor="let column of displayedColumns" matColumnDef="{{column}}">
                <th style="padding-left: 20px;" mat-header-cell *matHeaderCellDef> {{ column | titlecase }} </th>
                <td style="padding-left: 20px;" mat-cell *matCellDef="let element"> {{ element[column] }} </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            </table>
            <mat-paginator class="paginator" [pageSizeOptions]="[10, 50, 100]" showFirstLastButtons
              aria-label="Select page of periodic elements">
            </mat-paginator>
          </div>
          <div class="row">
            <div class="col-md-12">

            </div>
            <div class="col-md-12">
              <button (click)="gerarRelatorio()" class="btn btn-success">Exportar Excel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>